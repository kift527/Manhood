<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>موقع مانهو</title>
<style>
body {margin:0;font-family:'Segoe UI',sans-serif;background:#0d0d0d;color:#fff;}
header {position:fixed;top:0;left:0;right:0;background:#1c1c1c;padding:10px 15px;display:flex;align-items:center;justify-content:space-between;z-index:1000;border-bottom:2px solid #ff4757;}
header h1 {margin:0;font-size:20px;color:#ff4757;}
header input {flex:1;margin-left:10px;padding:8px;border:none;border-radius:6px;background:#2a2a2a;color:#fff;}
nav {position:fixed;bottom:0;left:0;right:0;background:#1c1c1c;display:flex;justify-content:space-around;padding:10px 0;border-top:2px solid #ff4757;}
nav button {background:none;border:none;color:#aaa;font-size:14px;cursor:pointer;}
nav button.active {color:#ff4757;}
main {padding:65px 10px 70px;max-width:500px;margin:auto;}
.section {display:none;}
.section.active {display:block;}
.card {background:#1c1c1c;margin-bottom:15px;border-radius:12px;overflow:hidden;cursor:pointer;box-shadow:0 2px 5px rgba(0,0,0,0.4);}
.card img {width:100%;display:block;}
.card h3 {margin:10px;font-size:18px;color:#ff6b81;}
.card p {margin:0 10px 10px;font-size:14px;color:#ccc;line-height:1.4;}
button.chapter-btn {width:100%;padding:10px;margin:5px 0;background:#ff4757;border:none;border-radius:8px;color:#fff;font-size:16px;}
#reader img {width:100%;border-radius:10px;margin-bottom:10px;}
#reader .nav-buttons {display:flex;justify-content:space-between;gap:10px;}
#reader .nav-buttons button {flex:1;background:#ff4757;border:none;color:#fff;padding:10px;border-radius:8px;}
</style>
</head>
<body>

<header>
  <h1>مانهو</h1>
  <input type="text" id="search" placeholder="ابحث عن مانهو...">
</header>

<nav>
  <button id="btn-home" class="active" onclick="switchSection('home')">الرئيسية</button>
  <button id="btn-manho" onclick="switchSection('manho')">المانهو</button>
  <button id="btn-latest" onclick="switchSection('latest')">فصول جديدة</button>
</nav>

<main>
  <section id="home" class="section active"></section>
  <section id="manho" class="section"></section>
  <section id="latest" class="section"></section>
  <section id="reader" class="section"></section>
</main>

<script>
const manhos = [
  {id:1,title:"مانهو القمر",cover:"https://via.placeholder.com/400x600?text=القمر",description:"قصة مثيرة عن مغامرات تحت ضوء القمر.",chapters:[
    {id:101,title:"الفصل الأول",images:["https://via.placeholder.com/800x1200?text=الفصل1-1","https://via.placeholder.com/800x1200?text=الفصل1-2"]},
    {id:102,title:"الفصل الثاني",images:["https://via.placeholder.com/800x1200?text=الفصل2-1"]}
  ]},
  {id:2,title:"مانهو الشروق",cover:"https://via.placeholder.com/400x600?text=الشروق",description:"رحلة مليئة بالتحديات مع شروق الشمس.",chapters:[
    {id:201,title:"الفصل الأول",images:["https://via.placeholder.com/800x1200?text=الفصل1-1"]}
  ]}
];

let currentManhoId = null, currentChapterId = null, currentPage = 0;

const sections = {
  home: document.getElementById('home'),
  manho: document.getElementById('manho'),
  latest: document.getElementById('latest'),
  reader: document.getElementById('reader')
};

function switchSection(sec){
  Object.values(sections).forEach(s=>s.classList.remove('active'));
  sections[sec].classList.add('active');
  document.querySelectorAll('nav button').forEach(b=>b.classList.remove('active'));
  document.getElementById('btn-'+sec).classList.add('active');
}

function buildHome(filter=""){
  sections.home.innerHTML="";
  manhos.filter(m=>m.title.includes(filter)).forEach(m=>{
    const card=document.createElement('div');
    card.className='card';
    card.innerHTML=`<img src="${m.cover}"><h3>${m.title}</h3><p>${m.description}</p>`;
    card.onclick=()=>{currentManhoId=m.id;buildManho();switchSection('manho');};
    sections.home.appendChild(card);
  });
}

function buildManho(){
  const m=manhos.find(x=>x.id===currentManhoId);
  sections.manho.innerHTML=`<h2 style="color:#ff6b81">${m.title}</h2><img src="${m.cover}" width="100%"><p>${m.description}</p>`+
    m.chapters.map(ch=>`<button class="chapter-btn" onclick="openChapter(${m.id},${ch.id})">${ch.title}</button>`).join('');
}

function buildLatest(){
  sections.latest.innerHTML="";
  manhos.forEach(m=>{
    if(m.chapters.length>0){
      const ch=m.chapters[m.chapters.length-1];
      const card=document.createElement('div');
      card.className='card';
      card.innerHTML=`<img src="${m.cover}"><h3>${ch.title}</h3><p>${m.title}</p>`;
      card.onclick=()=>openChapter(m.id,ch.id);
      sections.latest.appendChild(card);
    }
  });
}

function openChapter(mId,cId){
  const m=manhos.find(x=>x.id===mId);
  const ch=m.chapters.find(c=>c.id===cId);
  currentManhoId=mId;currentChapterId=cId;currentPage=0;
  updateReader();
  switchSection('reader');
}

function updateReader(){
  const m=manhos.find(x=>x.id===currentManhoId);
  const ch=m.chapters.find(c=>c.id===currentChapterId);
  sections.reader.innerHTML=`<button onclick="switchSection('manho')" style="margin-bottom:10px;background:#ff4757;color:#fff;padding:10px;border:none;border-radius:8px;">رجوع</button>
    <img src="${ch.images[currentPage]}">
    <div class="nav-buttons">
      <button onclick="changePage(-1)" ${currentPage===0?'disabled':''}>السابق</button>
      <button onclick="changePage(1)" ${currentPage===ch.images.length-1?'disabled':''}>التالي</button>
    </div>`;
}

function changePage(dir){
  const m=manhos.find(x=>x.id===currentManhoId);
  const ch=m.chapters.find(c=>c.id===currentChapterId);
  currentPage+=dir;
  if(currentPage<0)currentPage=0;
  if(currentPage>=ch.images.length)currentPage=ch.images.length-1;
  updateReader();
}

// البحث
document.getElementById('search').addEventListener('input',e=>buildHome(e.target.value));

// تشغيل
buildHome();
buildLatest();
</script>

</body>
</html>
