<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>موقع مانهو</title>
<style>
body {margin:0;font-family:sans-serif;background:#111;color:#fff;}
header {background:#222;padding:10px;text-align:center;position:fixed;top:0;width:100%;z-index:100;}
header h1 {margin:0;color:#ff4757;font-size:20px;}
nav {background:#222;position:fixed;bottom:0;width:100%;display:flex;justify-content:space-around;padding:10px 0;}
nav button {background:none;border:none;color:#bbb;font-size:14px;}
nav button.active {color:#ff4757;}
main {padding:60px 10px 60px;}
.section {display:none;}
.section.active {display:block;}
.card {background:#1c1c1c;margin-bottom:15px;border-radius:8px;overflow:hidden;cursor:pointer;}
.card img {width:100%;display:block;}
.card h3 {margin:10px;font-size:16px;color:#ff6b81;}
.card p {margin:0 10px 10px;font-size:14px;color:#ccc;}
button.chapter-btn {width:100%;padding:10px;margin:5px 0;background:#ff4757;border:none;border-radius:6px;color:#fff;}
#reader img {width:100%;border-radius:6px;margin-bottom:10px;}
#reader .nav-buttons {display:flex;justify-content:space-between;}
#reader .nav-buttons button {flex:1;margin:5px;background:#ff4757;color:#fff;border:none;padding:10px;border-radius:6px;}
</style>
</head>
<body>

<header>
  <h1>مانهو</h1>
</header>

<nav>
  <button id="btn-home" class="active" onclick="showSection('home')">الرئيسية</button>
  <button id="btn-latest" onclick="showSection('latest')">الفصول الجديدة</button>
</nav>

<main>
  <section id="home" class="section active"></section>
  <section id="latest" class="section"></section>
  <section id="details" class="section"></section>
  <section id="reader" class="section"></section>
</main>

<script>
const manhos = [
  {id:1,title:"مانهو القمر",cover:"https://via.placeholder.com/400x600?text=القمر",description:"مغامرة تحت ضوء القمر.",chapters:[
    {id:101,title:"الفصل 1",images:["https://via.placeholder.com/800x1200?text=صفحة1","https://via.placeholder.com/800x1200?text=صفحة2"]},
    {id:102,title:"الفصل 2",images:["https://via.placeholder.com/800x1200?text=صفحة1"]}
  ]},
  {id:2,title:"مانهو الشروق",cover:"https://via.placeholder.com/400x600?text=الشروق",description:"قصة مليئة بالتحديات.",chapters:[
    {id:201,title:"الفصل 1",images:["https://via.placeholder.com/800x1200?text=صفحة1"]}
  ]}
];

let currentManho = null;
let currentChapter = null;
let currentPage = 0;

function showSection(id) {
  document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  document.querySelectorAll('nav button').forEach(b=>b.classList.remove('active'));
  if(id==='home') document.getElementById('btn-home').classList.add('active');
  if(id==='latest') document.getElementById('btn-latest').classList.add('active');
}

function buildHome() {
  const home = document.getElementById('home');
  home.innerHTML = '';
  manhos.forEach(m=>{
    const card = document.createElement('div');
    card.className = 'card';
    card.innerHTML = `<img src="${m.cover}"><h3>${m.title}</h3><p>${m.description}</p>`;
    card.onclick = ()=>openDetails(m.id);
    home.appendChild(card);
  });
}

function buildLatest() {
  const latest = document.getElementById('latest');
  latest.innerHTML = '';
  manhos.forEach(m=>{
    const last = m.chapters[m.chapters.length-1];
    const card = document.createElement('div');
    card.className = 'card';
    card.innerHTML = `<img src="${m.cover}"><h3>${last.title}</h3><p>${m.title}</p>`;
    card.onclick = ()=>openChapter(m.id,last.id);
    latest.appendChild(card);
  });
}

function openDetails(id) {
  currentManho = manhos.find(m=>m.id===id);
  const details = document.getElementById('details');
  details.innerHTML = `<h2>${currentManho.title}</h2><img src="${currentManho.cover}" style="width:100%"><p>${currentManho.description}</p>` +
    currentManho.chapters.map(ch=>`<button class="chapter-btn" onclick="openChapter(${currentManho.id},${ch.id})">${ch.title}</button>`).join('');
  showSection('details');
}

function openChapter(mId, cId) {
  currentManho = manhos.find(m=>m.id===mId);
  currentChapter = currentManho.chapters.find(c=>c.id===cId);
  currentPage = 0;
  updateReader();
  showSection('reader');
}

function updateReader() {
  const reader = document.getElementById('reader');
  reader.innerHTML = `<button onclick="showSection('details')" style="background:#ff4757;color:#fff;padding:8px;border:none;border-radius:6px;margin-bottom:10px;">رجوع</button>` +
    `<img src="${currentChapter.images[currentPage]}">` +
    `<div class="nav-buttons">
      <button onclick="changePage(-1)" ${currentPage===0?'disabled':''}>السابق</button>
      <button onclick="changePage(1)" ${currentPage===currentChapter.images.length-1?'disabled':''}>التالي</button>
    </div>`;
}

function changePage(dir) {
  currentPage += dir;
  if(currentPage < 0) currentPage = 0;
  if(currentPage >= currentChapter.images.length) currentPage = currentChapter.images.length - 1;
  updateReader();
}

buildHome();
buildLatest();
</script>

</body>
</html>
